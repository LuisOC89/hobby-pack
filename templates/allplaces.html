{% extends "zbase.html" %}

{% block content %}
<h1 class="titlemain">Places to do hobbies together</h1>
    {% if placeshtml|length == 0 %}
    <p>No public places yet</p>
    <p>If you want to add a new public place click <a href="/newplace"> here </a>.</p>
    {% else %}
        {% if myplaces|length == 0 %}
        
        {% else %}   
        <h2>My Places</h2>       
        {% for myplace in myplaces %}             
        <li class="list2">
            <a href="/places?id={{myplace.id}}" class="poster">{{myplace.name}} </a> | {{myplace.streetaddress}} | {{myplace.city}} {{myplace.state}} {{myplace.zipcode}} 
            
            {% if dict_helper[myplace.unique_key_address][0] == 1 %}                           
            (<span class="red"> {{dict_helper[myplace.unique_key_address][0]}} person </span>, 
            {% else %}            
            (<span class="red"> {{dict_helper[myplace.unique_key_address][0]}} people </span>, 
            {% endif %}
            {% if dict_helper[myplace.unique_key_address][1] == 1 %}                 
            <span class="orange">{{dict_helper[myplace.unique_key_address][1]}} hobby </span>).
            {% else %}            
            <span class="orange">{{dict_helper[myplace.unique_key_address][1]}} hobbies </span>).
            {% endif %}               
            
        </li>        
        {% endfor %}
        {% endif %}

        {% if notmyplaces|length == 0 %}
        <p>You are subscribed to all the public places of this website.</p>
        <p>Add a new one <a href="/newplace">here</a></p>
        {% else %}

        <h2>Other Places to do hobbies</h2>  
        {% for publicplace in notmyplaces %}            
        <li class="list2">
        <a href="/places?id={{publicplace.id}}" class="poster">{{publicplace.name}} </a> | {{publicplace.streetaddress}} | {{publicplace.city}} {{publicplace.state}} {{publicplace.zipcode}} 
        
            {% if dict_helper[publicplace.unique_key_address][0] == 1 %}                           
            (<span class="red"> {{dict_helper[publicplace.unique_key_address][0]}} person </span>, 
            {% else %}            
            (<span class="red"> {{dict_helper[publicplace.unique_key_address][0]}} people </span>, 
            {% endif %}
            {% if dict_helper[publicplace.unique_key_address][1] == 1 %}                 
            <span class="orange">{{dict_helper[publicplace.unique_key_address][1]}} hobby </span>).
            {% else %}            
            <span class="orange">{{dict_helper[publicplace.unique_key_address][1]}} hobbies </span>).
            {% endif %} 

        <form action="/newplace" method="post" class="alignedform">            
            <input type="hidden" name="placename" value="{{publicplace.unique_key_address}}"/>
            <input type="hidden" name="conditional" value="to_add_existing_place_to_my_places"/>
            <input type="submit" value="ADD" class="alignedformbutton"/>
        </form> to my places.            
        </li>
        <hr />
        {% endfor %}
        {% endif %}
    {% endif %}    
{% endblock %}