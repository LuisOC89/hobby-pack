{% extends "zbase.html" %}

{% block content %}
<h1 class="titlemain">{{hobbyhtml.name}}</h1>  

{% if hobbyhtml not in my_hobbies %}
<h2 class = centered>  
<form action="/newhobbie" method="post" class="alignedform">            
    <input type="hidden" name="hobbyname" value="{{hobbyhtml.name}}"/>
    <input type="hidden" name="conditional_to_redirect" value="Display_all_hobbies"/>
    <input type="hidden" name="conditional" value="to_add_existing_hobby_to_current_user"/>
    <input type="submit" value="ADD" class="alignedformbutton"/>
</form> to my hobbies.   
</h2>  
{% endif %}

<p><span class="titlemain">Hobbyists that practice this hobby:</span><br>
{% for hobbyist in hobby_hobbyists %}
    {% if hobbyist.nickname == session['hobbyist'] %}
    <a href="/myinfo?condition=show_all_info_user" class="poster">{{hobbyist.nickname}} </a> 
    {% else %}
    <a href="/myinfo?condition=show_other_info_user&hobbyist={{hobbyist.nickname}}" class="poster">{{hobbyist.nickname}} </a> 
    {% endif %}    
    {{ "," if not loop.last }}                              
{% endfor %}</p>

{% if places|length != 0 %}
    <span class="titlemain">Places where this hobby is practiced and people who practices it:</span>
    {% for publicplace in places %}
    <li class="list2">
    <a href="/places?id={{publicplace.id}}" class="poster">{{publicplace.name}}</a> | {{publicplace.streetaddress}} | {{publicplace.city}} | {{publicplace.state}} | {{publicplace.zipcode}} 
        <br><span class="different"> (
        {% if dict_place_hobbyists[publicplace.unique_key_address][0] == 1 %}
        {{dict_place_hobbyists[publicplace.unique_key_address][0]}} hobbyist practicing this hobby in this place
        {% else %}
        {{dict_place_hobbyists[publicplace.unique_key_address][0]}} hobbyists practicing this hobby in this place
        {% endif %}
        ): </span> 
                        
            {% for hobbyist in dict_place_hobbyists[publicplace.unique_key_address][1] %}
                {% if hobbyist.nickname == session['hobbyist'] %}
                <a href="/myinfo?condition=show_all_info_user" class="poster">{{hobbyist.nickname}} </a> 
                {% else %}
                <a href="/myinfo?condition=show_other_info_user&hobbyist={{hobbyist.nickname}}" class="poster">{{hobbyist.nickname}} </a> 
                {% endif %}    
                {{ "," if not loop.last }}                              
            {% endfor %}

        <br><br>
    {% endfor %}  
{% else %}
<p>This hobby is not practiced in a public place yet</p>  
{% endif %}
{% endblock %}